{"subreddit":{"display_name":"ethereum"},"subreddit_loc":"ethereum","selftext":"***EthArmbian*** (ARM64) *\\[1\\] is a custom* ***Ubuntu*** *Linux image for the* ***NanoPC-T4 ARM SoC*** \\[2\\]  and the ***RockPro64 ARM SoC*** *\\[3\\] that runs* ***Geth*** *or* ***Parity*** *Ethereum clients as a boot service and automatically turns the device into a* ***full Ethereum node***. It includes other components of the Ethereum ecosystem such as **Trinity, Status.im, Raiden, IPFS, Swarm and Vipnode** as well as initial support for **Eth2.0 clients**.\n\n***EthRaspbian*** (ARM7) *\\[4\\] is a custom* ***Debian*** *Linux image for the* ***Raspberry Pi 2/3/4*** devices *that runs* ***Geth*** *or* ***Parity*** *as* ***light clients*** *and includes other components of the Ethereum framework such as* ***Status.im, Raiden, IPFS, Swarm and Vipnode***\\*.\\*\n\n*Images take care of all process, from setting up the environment to running the Ethereum software and synchronizing the blockchain.* ***All you need is to flash the MicroSD card with the image, plug an ethernet cable and power on the device.***\n\nEDIT**: Geth 1.9.1 and Vipnode 2.2.1 are available.**\n\nEDIT2: **Images updated with Geth 1.9.1 and Vipnode 2.2.1**\n\n# Changelog\n\n* **Package updates**:\n   * **Geth**: 1.9. Official binary\n   * **Swarm**: 0.4.2. Official binary\n   * **Parity**: 2.5.5. Compiled  (runs by default, see Geth 1.9 section)\n   * **Raiden Network**: 0.100.4. Official binary\n   * **IPFS**: 0.4.21. Official binary\n   * **Status.im**: 0.30.0\\~beta2. Compiled (runs by default)\n   * **Prysm Eth2.0**: 0.2.1. Compiled. First release (beacon and validator clients. ARM64 only) \\[5\\]\n   * **Vipnode**: 2.1. Official binary. First release \\[6\\]\n* Ethereum user account: **force password change** on first login\n* Changed “vm.min\\_free\\_kbytes” sysconf value to better handle memory issues on ARM64 (page allocation failures)\n* Disabled ZRAM to avoid page allocation issues on RockPro64\n* Added **APT Ethraspbian Repository**:\n   * Install Ethereum packages by running **apt-get install** command\n   * **Automatic and security updates** through **Unattended Upgrades** \\[7\\] (ARM64 only, see below)\n   * update-ethereum command is now an APT alias for upgrading all packages\n* **PINE RockPro64** \\[8\\] **ARM64** board image\n* Support for **Raspberry Pi 4**\n* Included ATS service \\[9\\] (Active Thermal Service) for controlling Fan activity on RockPro64 board\n* Included **Prysm eth2.0** \\[5\\] client (Prysmatic labs Serenity implementation. ARM64 only)\n* Included **Vipnode** \\[6\\] client\n\n# Download links\n\n**For further info regarding installation and usage please visit Ethereum on ARM Github page \\[1\\]**\n\n&#x200B;\n\n**NanoPC-T4**\n\n[Armbian\\_5.91\\_Nanopct4\\_Ubuntu\\_bionic\\_default\\_4.4.179.img.zip](https://ethraspbian.com/downloads/Armbian_5.91_Nanopct4_Ubuntu_bionic_default_4.4.179.img.zip)\n\n&#x200B;\n\n**RockPro64**\n\n[Armbian\\_5.91\\_Rockpro64\\_Ubuntu\\_bionic\\_default\\_4.4.184.img.zip](https://ethraspbian.com/downloads/Armbian_5.91_Rockpro64_Ubuntu_bionic_default_4.4.184.img.zip)\n\n&#x200B;\n\n**Raspberry Pi 2/3/4**\n\n[image\\_2019-07-25-EthRaspbian2.0-lite.zip](https://ethraspbian.com/downloads/image_2019-07-25-EthRaspbian2.0-lite.zip)\n\nNote that Raspberry Pi 4 has not been tested as I don't own this device. Feedback appreciated.\n\n# APT repository\n\nA dedicated **APT repository is now included** so you can update the Ethereum software by running `apt-get` commands. It is available for 2 distros (**Ubuntu** **Bionic for ARM64 boards and Debian Buster for Raspberry pi 2/3/4**) and 3 categories each:\n\n* **Bionic/Buster**: Regular updates\n* **Bionic-security/Buster-security**: Security updates (such as Geth 1.8.27., for instance)\n* **Bionic-upgrades/Buster-upgrades**: Network upgrades (consensus changes)\n\nThis granularity allows to better define upgrade policies, particularly if you decide to enable unattended upgrades (see below).\n\nIf you are already running an EthArmbian image you can type the following commands to add the repository:\n\n    sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 8A584409D327B0A5\n    sudo add-apt-repository -n \"deb http://apt.ethraspbian.com bionic main\"\n    sudo add-apt-repository -n \"deb http://apt.ethraspbian.com bionic-security main\"\n    sudo add-apt-repository \"deb http://apt.ethraspbian.com bionic-upgrades main\"\n\nThe `update-ethereum` command is now an alias of an apt-get command.\n\nFrom now on, **all** **Ethereum software will get updates regularly on this repository**.\n\n# Unattended upgrades [7] (beta)\n\nIt seems convenient to **provide some kind of upgrade system for** **24/7 running devices as they usually get outdated or unmantained**. For security and compatibility reasons, it is particularly important to keep the Ethereum clients up to date.\n\nThere are some trade-offs, though, as automatic upgrades can break things (there is always a possibility of something going wrong). As so, **automatic upgrades** **are NOT enabled by default**.\n\nIn order to enable this feature edit the file `/etc/apt/apt.conf.d/50unattended-upgrades` and uncomment the EthOnArm and/or Ubuntu repositories you want to get updates from (by removing double slashes). For instance, let’s say you want to enable both security and regular upgrades for Ethereum packages and security upgrades for Ubuntu Bionic OS. `/etc/apt/apt.conf.d/50unattended-upgrades` file should look like this (showing relevant lines only):\n\n    Unattended-Upgrade::Allowed-Origins {\n           \"EthOnArm ${distro_codename}\";\n           \"EthOnArm ${distro_codename}-security\";\n           // \"EthOnArm ${distro_codename}-upgrades\";\n           \"${distro_id}:${distro_codename}-security\";\n\nEvery 4 hours the system looks for upgrades and install them if new packages are found.\n\n# Pine RockPro64 image [8]\n\nThis is the first image release for **RockPro64** \\[8\\] **ARM64 SoC** and comes with the same features as the NanoPc-T4.\n\nIt is a **powerful and affordable board ($79.99**) with **4GB RAM** and **NVMe**  support (expansion card needed, see below).  The board was tested with an **EVO 970 NVMe 256GB** unit (a **NVMe M.2 SSD** drive is needed in order to sync the Ethereum blockchain).\n\nATS \\[9\\] (**Active Thermal Service**) package is included to handle the fan activity (which is a recommended component, see below). It adjusts the fan speed  if CPU temperature is greater than 40ºC and stops it if it is below 40ºC.\n\nAlthough the board performs quite well, this is the first release so some minor stability issues may arise.\n\n# Eth2.0 Prysm [5] (Beacon chain and validator, ARM64 only)\n\nIf you want to start  testing an early implementation of **Ethereum 2.0**, you can do so by running **Prysmatic labs implementation.**\n\nFor further instructions about running the **beacon chain and the validator** client (and Eth 2.0 itself) visit their official home page \\[5\\].\n\nBasically, follow the instructions to **get the Goerli ETH** (no real value), **set the validator password** **and run both clients**. Once you have done all required steps and make sure everything goes as expected you can edit the file `/etc/ethereum/prysm-validator.conf` and define the password previously set in order to run both clients as a **systemd service**:\n\n    sudo systemctl start prysm-beacon\n    sudo systemctl start prysm-validator\n\nTake into account that this is in a very early stage so expect bugs or crashes. Please report your feedback to the Prysm team.\n\nI will be including other Ethereum clients (i.e. Nethermind) and Eth2.0 implementations (i.e. Nimbus) in the upcoming releases.\n\n# Vipnode [6]\n\nVipnode is an attempt to create **incentives for running full Ethereum nodes** in exchange of **serving light clients**. The Debian package just contains the binary (no systemd service yet). Please refer to their home page for further instructions and try to report your feedback.\n\n# Geth 1.9 sync\n\nAfter several syncs attempts, I'm experiencing an issue at the end of the process, see \\[10\\]. It may be a memory limitation \\[11\\] or other unknown problem. It would be great to have more feedback on this so if someone tries a sync with geth 1.9, please, drop a message on Github.\n\nI will be doing some additional tests with Geth 1.9 but in the meantime, Parity is now the default client as it syncs and performs fine (takes 3-4 days to fully sync the blockchain).\n\n# References\n\n\\[1\\]  [https://github.com/diglos/userpatches](https://github.com/diglos/userpatches)\n\n\\[2\\] [https://www.friendlyarm.com/index.php?route=product/product&product\\_id=225](https://www.friendlyarm.com/index.php?route=product/product&product_id=225)\n\nNote: You can buy the **NanoPC-T4** with all components **assembled and the EthArmbian image preinstalled (even synced) at** [**https://blockandmortar.io**](https://blockandmortar.io/) (Europe only). This is ran by u/bitfalls and the store is non-profit\n\n\\[3\\] [https://store.pine64.org/?product=rockpro64-4gb-single-board-computer](https://store.pine64.org/?product=rockpro64-4gb-single-board-computer)\n\n\\[4\\] [https://github.com/diglos/pi-gen](https://github.com/diglos/pi-gen)\n\n\\[5\\] [https://github.com/prysmaticlabs/prysm](https://github.com/prysmaticlabs/prysm)\n\n[https://alpha.prylabs.net/participate](https://alpha.prylabs.net/participate)\n\n\\[6\\] [https://vipnode.org/](https://vipnode.org/)\n\n\\[7\\] [https://wiki.debian.org/UnattendedUpgrades](https://wiki.debian.org/UnattendedUpgrades)\n\n\\[8\\] [https://store.pine64.org/?product=rockpro64-4gb-single-board-computer](https://store.pine64.org/?product=rockpro64-4gb-single-board-computer)\n\n**Components**\n\n[https://store.pine64.org/?product=rockpro64-pci-e-x4-to-m-2ngff-nvme-ssd-interface-card](https://store.pine64.org/?product=rockpro64-pci-e-x4-to-m-2ngff-nvme-ssd-interface-card)\n\n[https://store.pine64.org/?product=rockpro64-10mm-low-profile-heatsink-with-fan](https://store.pine64.org/?product=rockpro64-10mm-low-profile-heatsink-with-fan)\n\nPower supply is NOT included, choose one according to your country\n\n\\[9\\] [https://github.com/tuxd3v/ats](https://github.com/tuxd3v/ats)\n\n\\[10\\] [https://github.com/ethereum/go-ethereum/issues/19754](https://github.com/ethereum/go-ethereum/issues/19754)\n\n\\[11\\] [https://github.com/ethereum/go-ethereum/issues/19837](https://github.com/ethereum/go-ethereum/issues/19837)","title":"Ethereum on ARM. NanoPC-T4 and Raspberry Pi images. New supported devices: Pine RockPro64 and Raspberry Pi 4. APT repository and automatic upgrades. Ethereum 2.0 Prysm clients and Vipnode. Ethereum clients update.","subreddit_name_prefixed":"r/ethereum","ups":88,"created":1563909304,"link_flair_background_color":"","id":"cgr9y4","author":{"name":"diglos76"},"permalink":"/r/ethereum/comments/cgr9y4/ethereum_on_arm_nanopct4_and_raspberry_pi_images/","url":"https://www.reddit.com/r/ethereum/comments/cgr9y4/ethereum_on_arm_nanopct4_and_raspberry_pi_images/","created_utc":1563880504}