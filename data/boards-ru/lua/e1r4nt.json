{"subreddit":{"display_name":"lua"},"subreddit_loc":"принимать","selftext":"Пробую свои силы в написании сценария logitech lua для моего геймпада / клавиатуры G13. У меня был некоторый успех с кодом ниже, что доза две вещи. Сначала он запускается и заканчивает скрипт автоматического запуска, когда я нажимаю клавишу G9. Вторая часть после строки 27 просто отображает предварительно определенный текст на ЖК-дисплее G13, связанный с нажатиями клавиш из профиля Logitech G13.\n\n\n\n Вторая часть после строки 27 - это попытка просто отобразить название игровых команд, связанных с запрограммированными нажатиями клавиш ... поэтому, если нажата клавиша G1, я просто хочу, чтобы G13 отображал выбранный текст на ЖК-дисплее.\n\n\n\nЭтот код работает, единственная проблема - он работает во всех MKeystates для геймпада. G13 имеет возможность устанавливать три различных субпрофиля, называемых M1, M2, M3 или MKeystates, что позволяет мне отображать три команды для каждой клавиши на G13 в зависимости от того, какой профиль Mkey активен.\n\n\n\nМне бы хотелось, чтобы скрипт знал, что является текущим MKeystate M1, M2, M3 G13, и выполняет команды только в том случае, если текущее состояние M1, M2 или M3, а не работает на каждом подпрофиле / MKeystate.\n\nЯ пробовал это в разделах после строки 27, но я получаю синтаксическую ошибку.\n\n`if (arg == 4 и MKeyState == 1) затем`\n\n\n\nLogitech Lua API Doc\n\n[https://douile.github.io/logitech-toggle-keys/APIDocs.pdf]<span translate = \"no\"> (https://douile.github.io/logitech-toggle-keys/APIDocs.pdf) </ SPAN>\n\n\n\nРабочий скрипт, работает на всех трех под-профилях. Мне бы хотелось, чтобы одновременно работали только с одним подпрофилем.\n\n    - Автоматическая прогулка и отображение нажатия клавиш\n    isPressed = false;\n    \n    функция OnEvent (событие, аргумент, семья)\n        - Если нажата клавиша G\n        если событие == \"G_PRESSED\", то\n            - это был G9?\n            если arg == 9 тогда\n    ClearLCD ()\n    OutputLCDMessage («Автозапуск ВКЛ», 2000)\n    ClearLCD ()\n                - Если мы не работаем\n                если не нажата то\n                    -- сейчас мы\n                    PressKey ( \"W\");\n                    isPressed = true\n                еще\n    ClearLCD ()\n    OutputLCDMessage («Auto Run OFF», 1000)\n    ClearLCD ()\n                    -- прекратить бег\n                    ReleaseKey ( \"W\");\n                    isPressed = false;\n                конец\n            конец\n        конец\n    \n    if (arg == 4) тогда\n    ClearLCD ()\n    OutputLCDMessage ( \"Foward\")\n    конец\n    \n    if (arg == 7) тогда\n    ClearLCD ()\n    OutputLCDMessage (\"МОБИ СТЕКЛО\")\n    конец\n    \n    if (arg == 1) тогда\n    ClearLCD ()\n    OutputLCDMessage (\"ПЕРВИЧНОЕ ОРУЖИЕ\")\n    конец\n    конец","title":"Lua Logitech сценарий вопрос","subreddit_name_prefixed":"r/lua","ups":0,"created":1574763477,"link_flair_background_color":"","id":"e1r4nt","author":{"name":"Geron76"},"permalink":"/r/lua/comments/e1r4nt/lua_logitech_script_question/","url":"https://www.reddit.com/r/lua/comments/e1r4nt/lua_logitech_script_question/","created_utc":1574734677}