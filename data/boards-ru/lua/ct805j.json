{"subreddit":{"display_name":"lua"},"subreddit_loc":"принимать","selftext":"Кому-нибудь повезло запустить языковой сервер, написанный пользователем github sumneko? [https://github.com/sumneko/lua-language-server] (https://github.com/sumneko/lua-language-server) \n\n\n\nЯ пытаюсь использовать его вне vscode в дистрибутиве Linux. Поскольку нет предварительно скомпилированных выпусков, мне, к сожалению, пришлось собирать сервер самостоятельно. Это было трудно, так как я все чаще обнаруживаю, что я неграмотный компьютер. Вот шаги, которые я предпринял:\n\nПодготовка к его созданию:\n\n    # 1) установить git через менеджер пакетов\n    # 2) хранилище клонов\n    cd ~ / opt\n    git clone - recurse-submodules https://github.com/sumneko/lua-language-server\n    # 3) установить зависимости через менеджер пакетов (здесь много ошибок, так как мне не хватало большого количества библиотек, и я не был знаком с файлами сборки)\n        #install ниндзя\n        #install glibc\n        #install glibc-devel\n        #install g ++\n        #install gcc\n        #install libgcc\n        #install llvm-clang\n        #install заголовки linux\n\nПостроение: я следовал инструкциям в этом выпуске: [https://github.com/sumneko/lua-language-server/issues/60]<span translate = \"no\"> (https://github.com/sumneko / Lua язык-сервер / вопросы / 60) </ SPAN>\n\n    cd ~ / opt / lua-language-server\n    # PreCompile\n    cd 3rd / luamake /\n    ниндзя -f ниндзя / linux.ninja\n    компакт диск ../../\n    # Компилировать\n    3-й / luamake / luamake восстановить\n\nЯ получил сообщение о том, что 89 из 89 этапов предварительной компиляции завершены и 82 теста успешно выполнены с 0 ошибками. При компиляции я получил 97 сообщений, ни одно из которых не указывало на ошибку.\n\nЗапуск: я следовал инструкциям здесь (как указано в предыдущем выпуске): [https://github.com/sumneko/lua-language-server/blob/master/client/src/extension.ts#L24]<span не переводить = \"нет\"> (https://github.com/sumneko/lua-language-server/blob/master/client/src/extension.ts#L24) </ SPAN>\n\nПримечание. Я считаю, что исполняемый файл lua-language-server является настраиваемым интерпретатором Lua, а файл `... / server / main.lua` является основным модулем сервера, написанным на Lua. Чтобы запустить сервер, мы по сути выполняем скрипт.\n\n    сервер / bin / lua-language-server -E -e LANG = en сервер / main.lua\n\nЯ получаю ошибку Lua на этом этапе. К сожалению, я не знаком с C api.\n\n    сервер / bin / lua-language-server: ошибка загрузки модуля 'lpeglabel' из файла 'server / bin / lpeglabel.so':\n            сервер / bin / lpeglabel.so: неопределенный символ: luaopen_lpeglabel\n    трассировка стека:\n            [C]: в?\n            [C]: в функции 'require'\n            server / src / json / decode.lua: 1: в основном чанке\n            [C]: в функции 'require'\n            сервер / src / json / init.lua: 2: в основном чанке\n            [C]: в функции 'require'\n            server / src / rpc.lua: 1: в основном чанке\n            [C]: в функции 'require'\n            server / src / method / initialized.lua: 1: в основном чанке\n            [C]: в функции 'require'\n            сервер / src / method / init.lua: 4: в локальном 'init'\n            сервер / src / method / init.lua: 9: в основном чанке\n            [C]: в функции 'require'\n            server / src / service.lua: 2: в основном чанке\n            [C]: в функции 'require'\n            server / main.lua: 28: в основном чанке\n            [C]: в?\n\nНе зная C, похоже, что во время сборки что-то пошло не так, и функция библиотеки lpeglabel не была определена. Я не знаю, как поступить на этом этапе.","title":"сумнеко / двуязычный-сервер-сервер","subreddit_name_prefixed":"r/lua","ups":7,"created":1566371461,"link_flair_background_color":"","id":"ct805j","author":{"name":"BigDoubt0"},"permalink":"/r/lua/comments/ct805j/sumnekolualanguageserver/","url":"https://www.reddit.com/r/lua/comments/ct805j/sumnekolualanguageserver/","created_utc":1566342661}