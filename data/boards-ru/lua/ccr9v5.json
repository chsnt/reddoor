{"subreddit":{"display_name":"lua"},"subreddit_loc":"принимать","selftext":"У меня есть Lua 5.3, Luarocks и LuaJit.\n\n\n\nLuaJit не поддерживает некоторые библиотеки Lua 5.3, у меня были проблемы с ними в LuaJit.\n\n\n\nLuarocks в моей ОС использует Lua 5.3 и также устанавливает библиотеки для этой версии.\n\n\n\nЯ на Arch Linux. Я установил Lua 5.1 и указал на него исполняемый файл lua. Тем не менее, Luarocks по-прежнему ожидает \"Lua 5.3\" и был настроен по умолчанию для использования этого.\n\n\n\nИ мне нужно переключиться на «Lua 5.1», чтобы больше не было проблем с LuaJit. Меня не волнует \"Lua 5.3\"\n\n\n\nКак я могу полностью переключить все вещи и настройки и Luarocks на Lua 5.1?\n\n\n\n** обновление 0 **\n\n    Луарокс путь\n    export LUA_PATH = '/ home / my_user123 / .luarocks / share / lua / 5.3 / ?. lua; /home/my_user123/.luarocks/share/lua/5.3 /? / init.lua; /usr/share/lua/5.3 /?.lua;/usr/share/lua/5.3/?/init.lua;/usr/lib/lua/5.3/?.lua;/usr/lib/lua/5.3/?/init.lua;./ ? .lua;? ./ / init.lua»\n    export LUA_CPATH = '/ home / my_user123 / .luarocks / lib / lua / 5.3 / ?. so; /usr/lib/lua/5.3 / ?. so; /usr/lib/lua/5.3/loadall.so; ./ ?.так'\n    экспорт PATH = '/ home / my_user123 / .luarocks / bin: / usr / bin: / usr / local / sbin: / usr / local / bin: / opt / openresty / bin: / opt / openresty / nginx / sbin: / USR / бен / site_perl: / USR / бен / vendor_perl: / USR / бен / core_perl»\n\n\n\n** обновление 1 **\n\n    luarocks устанавливает сокет --lua-version = 5.1\n    [.........Хорошо...............]\n    \n    \n    $ luajit\n    LuaJIT 2.0.5 - Copyright (C) 2005-2017 Mike Pall. http://luajit.org/\n    \n    > требуется \"розетка\"\n    \n    ошибка загрузки модуля 'socket.core' из файла '/usr/lib/lua/5.3/socket/core.so':\n    /usr/lib/lua/5.3/socket/core.so: неопределенный символ: luaL_setfuncs\n    \n    трассировка стека:\n    \n    [C]: в 0x559419d03fb0\n    [C]: в функции 'require'\n    /usr/share/lua/5.3/socket.lua:12: в основной части\n    [C]: в функции 'require'\n    стандартный ввод: 1: в основном блоке\n    [C]: в 0x559419cb4c00\n    >\n\n\n\n** обновление 2 **\n\n    sudo ln -sf /usr/bin/lua5.1 / usr / bin / lua\n\nэто не помогает, результат такой же, как в обновлении # 1\n\nа именно: \"luajit ... require <abc>\" будет использовать библиотеку 5.3","title":"Как полностью перейти на Lua 5.1 с 5.3?","subreddit_name_prefixed":"r/lua","ups":3,"created":1563064312,"link_flair_background_color":"","id":"ccr9v5","author":{"name":"chaddoka"},"permalink":"/r/lua/comments/ccr9v5/how_to_switch_to_lua_51_from_53_completely/","url":"https://www.reddit.com/r/lua/comments/ccr9v5/how_to_switch_to_lua_51_from_53_completely/","created_utc":1563035512}