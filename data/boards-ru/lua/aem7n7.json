{"subreddit":{"display_name":"lua"},"subreddit_loc":"принимать","selftext":"Я сделал сообщение для этого около 6 месяцев назад, но с тех пор я изменил много вещей и думал, что это может стоить обновления.\n\n# Что такое MoonXML?\n\nДля тех, кто не знает, [MoonXML]  (https://github.com/darkwiiplayer/moonxml)  по сути является моим собственным клоном синтаксиса HTML-компоновщика в [lapis]  (leafo.net/lapis) , за исключением того, что это отдельная скала, которая обрабатывает некоторые вещи очень по-разному.\n\nСамые большие изменения касаются того, что вместо функций предпочтительным методом загрузки шаблонов moonscript / lua является их размещение в отдельном файле и загрузка всего файла, а генерация HTML и XML была объединена в один проект, и большая часть закулисная логика была перемещена в собственный проект под названием [xhmoon]  (https://github.com/darkwiiplayer/xhmoon) .\n\n# Пример использования\n\nПростой пример того, как это можно использовать с openresty:\n\nВ вашей конфигурации nginx:\n\n    init_workers_lua_block {\n      local moonxml = требуется 'moonxml'\n      html = moonxml.html: производное ()\n      - создать копию движка шаблонов HTML\n      html.environment.print = ngx.say\n      - Скажите шаблонизатору выводить на ngx вместо stdout\n      front = html: loadmoonfile ('views / front.moonhtml')\n    }\n    content_by_lua_block {\n      спереди («Название параметра»)\n    }\n\nВ файле views / front.moonhtml:\n\n    paratrized_title = ...\n    html5! - <! doctype html>\n    - HTML5 позволяет пропускать теги <html>, <head> и <body>\n    h1 \"Моя веб-страница\" - <h1> Моя веб-страница </ h1>\n    раздел ->\n      h2 Parametrized_title\n      для i = 1,5\n        p 'Lorem ipsum'\n\nЭто создаст веб-страницу с HTML5 doctype (встроенная функция), двумя заголовками, один из которых управляется аргументом, когда шаблон управляется параметром.\n\nТо, как он построен, позволяет легко расширять его с помощью пользовательских функций, таких как пример `html5`, для таких вещей, как списки, ссылки на стили, таблицы и т. Д.\n\n# Хотите попробовать?\n\nПросто установите его, используя [luarocks]  (https://luarocks.org/modules/darkwiiplayer/moonxml) ! Он устанавливает небольшую исполняемую оболочку, в которую можно передать moonscript, и выполнит ее как шаблон moonxml. Просто сделай `кошка | moonxml` и начните вводить свой шаблон или `cat <некоторый файл> | moonxml` на тот случай, если вы предпочитаете работать с файлами :)","title":"MoonXML 3.2","subreddit_name_prefixed":"r/lua","ups":4,"created":1547175791,"link_flair_background_color":"","id":"aem7n7","author":{"name":"DarkWiiPlayer"},"permalink":"/r/lua/comments/aem7n7/moonxml_32/","url":"https://www.reddit.com/r/lua/comments/aem7n7/moonxml_32/","created_utc":1547146991}