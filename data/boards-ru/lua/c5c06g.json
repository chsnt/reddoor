{"subreddit":{"display_name":"lua"},"subreddit_loc":"принимать","selftext":"Я создаю модуль в Lua для Nginx. Nginx будет работать как кеш-прокси.\n\n\n\nЧасть конфига:\n\n    proxy_cache_path / home / my_user / уровни кэша = 1: 2 keys_zone = my_key: 5 м max_size = 500 м неактивно = 10 дней;\n    сервер {\n    слушай 80;\n    # [............]\n    расположение / {\n    secure_link $ arg_h, $ arg_t;\n    secure_link_md5 \"$ secure_link_expires $ uri $ arg_u my_secret\";\n    proxy_temp_path / home / my_user / tmp;\n    proxy_cache my_cache;\n    proxy_cache_key $ uri;\n    # [............]\n\n\n\n\n\n\n\nКак я получу имя реального файла в файловой системе от Lua? Это:\n\n\n\n    /pictues/img1.jpg -> / data / nginx / cache / c / 31 / a13b4f8536898798fabe67645\n\n\n\n\n\nгде * / data / nginx / cache / c / 29 / a13b4f8536898798fabe67645 * - это часть, которую мне нужно вычислить или каким-то образом получить из моего сценария Lua, чтобы получить доступ к реальному файлу\n\n\n\nКак это сделать?","title":"Как получить доступ к именам кэшированных файлов Nginx из Lua?","subreddit_name_prefixed":"r/lua","ups":0,"created":1561512512,"link_flair_background_color":"","id":"c5c06g","author":{"name":"ketai800"},"permalink":"/r/lua/comments/c5c06g/how_to_get_access_to_nginx_cached_file_names_from/","url":"https://www.reddit.com/r/lua/comments/c5c06g/how_to_get_access_to_nginx_cached_file_names_from/","created_utc":1561483712}