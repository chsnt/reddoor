{"subreddit":{"display_name":"lua"},"subreddit_loc":"принимать","selftext":"ОБНОВЛЕННЫЙ вопрос ниже:\n\nПривет, как начинающее упражнение, я пытаюсь переписать некоторые Python в Луа. Мой проект - это все lua, за исключением одного демона python, который просто не прав. Он использует playerctl и привязки GObject Lua, lgi.\n\n [playerctl doc]  (https://dubstepdish.com/playerctl/)  /\n [скрипт Python]  (https://pastebin.com/4WKWD4MP)  /\n[Луа переписать, грубо!]  (https://pastebin.com/05RL2iin) \n\nЯ на полпути, но для тех, кто все еще изучает правильный синтаксис, иногда бывает сложно усвоить документацию библиотеки. Я застрял на центральной функции сценария и не могу продолжать до тех пор, пока не решу ее.\n\n\n    def init_player (name):\n        # выберите, если вы хотите управлять игроком на основе имени\n        если name.name в ['Lollypop', 'io.github.Pithos']:\n            player = Playerctl.Player.new_from_name (name)\n            player.connect ('play-status ::', on_playback_status, менеджер)\n            player.connect ('метаданные', on_metadata, менеджер)\n            manager.manage_player (игрок)\n    \n\nЯ знаю, это сложно, не зная соответствующих библиотек, но если кто-нибудь может дать мне черновой вариант того, как должна выглядеть эта функция, я был бы вечно благодарен. И я все уши для других указателей / критики.\n\nСпасибо за ваше время!\n\n** РЕДАКТИРОВАТЬ: обновленный вопрос **\n\nВозможно, мой текущий код не такой грубый, как я думаю. Когда я запускаю его через _luacheck_, он сообщает `0 warnings / 1 error. manager.lua: 49: 26: ожидаемые аргументы метода рядом с '.'`, который:\n    \n    для имени в менеджере: props.player_names do\n        init_player (имя)\n    конец\n\nИ приведенный выше код вызывает функцию python, о которой я изначально писал. Который:\n\n    функция init_player (имя)\n        if (name == 'Lollypop') или (name == 'Pithos') тогда\n            player = Playerctl.Player.new_from_name (name)\n            player: connect («статус воспроизведения ::», on_playback_status, менеджер)\n            player: connect ('метаданные', on_metadata, менеджер)\n            менеджер: manage_player (игрок)\n        конец\n    конец\n\nЕсть мысли о причине этой ошибки?","title":"Python для Lau переписать, помогите с функцией","subreddit_name_prefixed":"r/lua","ups":0,"created":1558165449,"link_flair_background_color":"","id":"bpygza","author":{"name":"Vredesbyyrd"},"permalink":"/r/lua/comments/bpygza/python_to_lau_rewrite_help_with_function/","url":"https://www.reddit.com/r/lua/comments/bpygza/python_to_lau_rewrite_help_with_function/","created_utc":1558136649}