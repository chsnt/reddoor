{"subreddit":{"display_name":"lua"},"subreddit_loc":"принимать","selftext":"Прошлой ночью я решил поэкспериментировать с идеей создания классовых объектов в Lua. С некоторым вдохновением о том, как javascript принял концепцию классов (прототипирование), я разработал этот макет.\n\nФункция \\ _createInstance () позволяет легко создавать читаемые таблицы, которые действуют как экземпляры классов; это глубокая копия таблицы (прототип) с введенной концепцией конструктора. Я знаю, что классоподобные таблицы существовали до этого поста, но показанный подход не документирован, насколько мне известно, и это очень легко читаемый способ сделать это. Идея также расширяема, как наследование от нескольких прототипов.\n\nИзменить: мне не понравилось форматирование кода Reddit, так что вот код на PasteBin (отформатирован для Lua), но также оставил часть примера в этом посте ...\n\nEdit2: код глубокой копии был заимствован из [здесь]  (https://forums.coronalabs.com/topic/27482-copy-not-direct-reference-of-table/) </ SPAN>. Push и pop для класса Stack взяты из [здесь] <span translate = \"no\"> (https://youtu.be/w0y-hJ-_7NM?t=605) .\n\n[Форматированный источник Lua \\ [PasteBin \\]]  (https://pastebin.com/ysgC8gJq) \n\n`local elem =` [`Stack.new`] <span translate =\" no \"> (https://Stack.new) </ span>` (function (self) `\n\n`Самостоятельно: толчок ( \"9\");`\n\n`Самостоятельно: толчок ( \"8\");`\n\n`Самостоятельно: толчок ( \"7\");`\n\n`Конца);`\n\n`Печати (эль: поп () .. Эль: поп () .. эль: поп ()); - \"789\"","title":"Реализация классов Lua с одной функцией","subreddit_name_prefixed":"r/lua","ups":5,"created":1570509568,"link_flair_background_color":"","id":"depe5p","author":{"name":"nightness"},"permalink":"/r/lua/comments/depe5p/implementing_lua_classes_with_one_function/","url":"https://www.reddit.com/r/lua/comments/depe5p/implementing_lua_classes_with_one_function/","created_utc":1570480768}