{"subreddit":{"display_name":"lua"},"subreddit_loc":"принимать","selftext":"Я должен очистить страницу с разбивкой по страницам, и я не знаю, сколько страниц у них может быть, 20, 200 или другое, я понятия не имею, но я должен указать цикл в Lua Script, так как сейчас я повторяю для 9 линий, но я хочу иметь гибкий код, для итерации столько, сколько я хочу. И я не хочу получать ошибки, есть ли у меня 5 страниц или 77 страниц там. Я знаю, что вы не разработчики Pyhton. Но для scrapy-всплеска я должен использовать это. Вот код Lua.\n\n    Основная функция (всплеск, аргументы)\n      утверждают (всплеск: идти (args.url))\n      утверждает (всплеск: ожидание (0,5))\n      лечить = требуется ( «лечить»)\n      результат = {}\n      для i = 1,9,1\n      делать\n      assert (splash: runjs ('document.querySelector (\"# projects> div.load_more.mt3> a\"). click ()'))\n        результат [I] = выплеск: HTML ()\n      конец\n      вернуть Treat.as_array (результат)\n    конец\n\nпоэтому «для i = 1,9,1» означает увеличение от 1 до 9 на 1, но я хочу, чтобы гибкий цикл обрабатывал любое количество страниц. Можете ли вы помочь, пожалуйста?\n\nРЕДАКТИРОВАНИЕ: Я знаю, что на веб-сайте есть максимальное количество страниц 200, могу ли я написать цикл, так что если есть меньше 200 страниц, я мог бы справиться с этим?","title":"Как обработать непредсказуемое количество страниц в сценарии Lua для Scrapy-splash в проекте Scrapy для очистки нумерации страниц?","subreddit_name_prefixed":"r/lua","ups":1,"created":1563208743,"link_flair_background_color":"","id":"cdexxr","author":{"name":"Grigor_1"},"permalink":"/r/lua/comments/cdexxr/how_to_handle_unpredicted_amount_of_pages_in_lua/","url":"https://www.reddit.com/r/lua/comments/cdexxr/how_to_handle_unpredicted_amount_of_pages_in_lua/","created_utc":1563179943}