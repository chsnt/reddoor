{"subreddit":{"display_name":"lua"},"subreddit_loc":"принимать","selftext":"Я пытаюсь отсортировать задачи по приоритету без перемещения разделителей групп. Возможно ли это без получения исключений «недопустимая функция сортировки»?\n\n    #! / usr / bin / env lua53\n\n    текст = [[\n\n    ===\n    + 6: какое-то задание\n    + 9: какое-то задание\n    - 8? Какая-то задача\n    ===\n    - 8? Какая-то задача\n    - 9: некоторые задачи\n    - 5: некоторые задачи\n\n    ]]\n\n    - Разбивает строки\n    разделение функций (pString, pPattern)\n      локальная таблица = {} - ПРИМЕЧАНИЕ: используйте {n = 0} в Lua-5.0\n      local fpat = \"(.-)\" .. pPattern\n      local last_end = 1\n      local s, e, cap = pString: find (fpat, 1)\n      пока с\n        если s ~ = 1 или cap ~ = \"\", то\n          table.insert (Стол, крышка)\n        конец\n        last_end = e + 1\n        s, e, cap = pString: find (fpat, last_end)\n      конец\n      если last_end <= #pString тогда\n        cap = pString: sub (last_end)\n        table.insert (Стол, крышка)\n      конец\n      Таблица возврата\n    конец\n\n    функция taskSorter (a, b)\n      a = string.lower (a)\n      b = string.lower (b)\n      a = string.gsub (a, '^% s * [- +]% s *', '')\n      b = string.gsub (b, '^% s * [- +]% s *', '')\n      a = string.gsub (a, '?', '0')\n      a = string.gsub (a, ':', '1')\n      b = string.gsub (b, '?', '0')\n      b = string.gsub (b, ':', '1')\n      sepA = a == '===' - или a == ''\n      sepB = b == '===' - или b == ''\n      ret = ноль\n    - print (string.format ('\"% s\", \"% s\"', a, b))\n      если sepA или sepB то\n        вернуть ложь\n      еще\n        вернуть <b\n      конец\n    конец\n\n    линии = разделить (текст, '\\ n')\n    table.sort (lines, taskSorter)\n    print (table.concat (lines, \"\\ n\"))","title":"Есть ли способ получить функцию сортировки, чтобы не изменять положение элемента в таблице / списке?","subreddit_name_prefixed":"r/lua","ups":2,"created":1563806750,"link_flair_background_color":"","id":"cg9rsz","author":{"name":"immeralleine"},"permalink":"/r/lua/comments/cg9rsz/is_there_a_way_to_get_a_sort_function_to_not/","url":"https://www.reddit.com/r/lua/comments/cg9rsz/is_there_a_way_to_get_a_sort_function_to_not/","created_utc":1563777950}