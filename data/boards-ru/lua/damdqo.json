{"subreddit":{"display_name":"lua"},"subreddit_loc":"принимать","selftext":"Привет всем!\n\nЯ старался изо всех сил, чтобы выучить LUA и сделать это самостоятельно, но у меня ничего не получается. Я был в состоянии сделать часть, но не все из того, что я пытаюсь выполнить. Если бы я мог помочь, это было бы здорово.\n\nТак что эта игра имеет звание, где я должен найти фьючерсные контракты на различные товары в мире. Каждый обмен отличается, имеет разные значения и разные контракты.\n\nМне удалось запустить проверку цены, когда я смотрю на доступные фьючерсные контракты на день, но остальная часть моего сценария просто зацикливается.\n\nВот что я печатаю, и результаты, которые я получаю, когда набираю ди фьючерсы\n\n    > ди фьючерсы\n    Лаборатория фьючерсной биржи\n    Маржа 4000ig / контракт\n      (Минимум 2000иг / контракт)\n    Мин движение 1ig / тонна\n    Макс почасовое движение 5ig / тонна\n    Длинные контракты в контроллерах доступны по 870иг / т.\n    Короткие контракты на фрукты доступны по 526иг / т.\n    Короткие контракты в лабораториях доступны по 355иг / т.\n    Короткие контракты на мясо доступны по 519иг / т.\n    Короткие контракты в микроскальпелях доступны по 242иг / т.\n    Короткие контракты в музыке доступны по 350иг / т.\n    Длинные контракты в нанотканях доступны по 1061иг / т.\n    Короткие контракты в пропеллентах доступны по 194иг / т.\n    Длинные контракты на полупроводники доступны по 436иг / т.\n    Длинные контракты в симуляциях доступны по 232иг / т.\n    Короткие контракты на сою доступны по 284иг / т.\n    Длинные контракты в текстиле доступны в 372ig / тонну.\n\nПоэтому мой триггер настроен на захват `^ (. +) Контрактов в (. +) Доступных в (\\ d +)`\n\nИ это работает. Он проверяет цену каждого из товаров в списке доступных фьючерсов. Но вот код, который я вставил:\n\n    отправить (\"цена c\" .. соответствует [3])\n    \n    Фьючерсы = {}\n    \n    Фьючерсы = {\n    товар = мультиматч [1] [3],\n    kind = multimatches [1] [2],\n    контракт = несколько совпадений [1] [4],\n    lprice = tonumber (multimatches [2] [3]),\n    sprice = tonumber (multimatches [4] [2]),\n    status1 = multimatches [2] [2],\n    status2 = multimatches [3] [3]\n    \n    }\n    \n    local WindowWidth, WindowHeight = getMainWindowSize ();\n    createMiniConsole ( \"Результаты\", WindowWidth-650,0,650,300)\n    \n    местные хорошие контракты = {}\n    для вида, информация в парах (фьючерсы) сделать\n    if kind == \"Long\" и status1 == \"buy\" тогда\n    локальная маржа = ((item.lprice / 0.9) -контракт)\n    конец\n    если маржа> 100, то\n    goodcontracts [kind] = информация\n    конец\n    конец\n    для вида, информация в парах (фьючерсы) сделать\n    если вид == \"Короткий\" и статус2 == \"продажа\", то\n    локальная маржа = (контракт- (item.sprice / 1.1))\n    конец\n    если маржа> 100, то\n    goodcontracts [kind] = информация\n    конец\n    конец\n    \n    cecho (\"Результаты\", string.format ([[\n    Фьючерсные контракты:\n    % Тип% Рентабельность / п\n    ]], хорошие контракты {}))\n    \n\nТак что я пытаюсь сделать, это захватить переменные данные из списка фьючерсов, захватить данные из проверок цен, выполнить мои условия хороших фьючерсных контрактов и вывести в окно список доступных сделок, или ноль , Я пытался связаться с сообществом в грязном месте, и я получил некоторую помощь здесь и там, но не настолько, чтобы заставить эту вещь работать. Любые идеи?","title":"Триггеры для грязи","subreddit_name_prefixed":"r/lua","ups":8,"created":1569736137,"link_flair_background_color":"","id":"damdqo","author":{"name":"casutton08"},"permalink":"/r/lua/comments/damdqo/triggers_for_a_mud/","url":"https://www.reddit.com/r/lua/comments/damdqo/triggers_for_a_mud/","created_utc":1569707337}