{"subreddit":{"display_name":"lua"},"subreddit_loc":"принимать","selftext":"У кого-нибудь есть опыт написания этих скриптов для устройств ControlByWeb? Я написал скрипт, который выполняет расчеты на основе ввода от пользователя и ввода с аналогового входного сигнала, подключенного к устройству. Когда я загружаю скрипт на устройство и запускаю его, он делает расчет ОДНАЖДЫ, а затем не снова. Сам сценарий повторяется, функции «print» пишутся сразу после выполнения математических операций и обновляются новыми номерами, но фактические вычисления пропускаются или не передаются на аналоговый выход, за исключением первого раза. Пример:\n\n\n\nповторение\n\nlocal d1 = io.flowRate \\ * reg.desiredPpm1\n\nio.chemPmpSpdOut1 = (d1 \\ * 2.52) / 1000\n\nпечать («Проверка насоса 1:» .. d1)\n\nпечать (\"Насос 1 OUT:\" .. io.chemPmpSpdOut1)\n\nпечать («Регистр насоса 1:». reg.desiredPpm1)\n\nlocal d2 = io.flowRate \\ * reg.desiredPpm2\n\nio.chemPmpSpdOut2 = (d2 \\ * 2.52) / 1000\n\nпечать («Проверка насоса 2:» .. d2)\n\nпечать (\"Насос 2 OUT:\" .. io.chemPmpSpdOut2)\n\nпечать («Регистр насоса 2:». reg.desiredPpm2)\n\nдо ложного\n\n\n\nВвод / вывод, который называется chemPmpSpdOut, поступает на выход устройства x317, подключенного к x600.\n\nЕсть ли еще один бесконечный цикл, который я должен использовать? (в то время как, и т.д?) Любая помощь будет принята с благодарностью.","title":"Простой скрипт Lua с управлением через веб-интерфейс X600 - без петли?","subreddit_name_prefixed":"r/lua","ups":2,"created":1558401701,"link_flair_background_color":"","id":"bqygfo","author":{"name":"fireeyesnapalm"},"permalink":"/r/lua/comments/bqygfo/simple_lua_script_with_controlbyweb_interface/","url":"https://www.reddit.com/r/lua/comments/bqygfo/simple_lua_script_with_controlbyweb_interface/","created_utc":1558372901}