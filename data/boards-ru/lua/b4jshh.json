{"subreddit":{"display_name":"lua"},"subreddit_loc":"принимать","selftext":"Нужна помощь с настройкой \\ _ \\ _ tostring для разных объектов. Просматривая все документы и онлайн-примеры, мне кажется, что все, что мне нужно сделать, это что-то вроде:\n\n`function Object: __ tostring () возвращает\" меня должно быть видно \"end`\n\n\n\nно это не работает. вместо этого мне кажется, что мне нужно заново присоединять метод \\ _ \\ _ tostring каждый раз, когда я создаю новый объект\n\n\n\n`local Object = {}`\n\n`Function Object: new ()`\n\n`local o = {}`\n\n`setmetatable (o, self)`\n\n`self .__ index = self`\n\n`self .__ tostring = self.s`\n   `возвращайся`\n\n`end`\n\n`function Object: s () return 'anObject' end`\n\n\n\nВот полный пример всего моего кода. В последней строке должно быть напечатано «меня должны увидеть»\n\n[https://gist.github.com/timm/9fe74517e000806e979603ad4477464c] (https://gist.github.com/timm/9fe74517e000806e979603ad4477464c) \n\nНо это не так.\n\n\n\nЧто я недопонимаю?\n\n","title":"проблемы с добавлением __tostring к моей метатаблице (в Lua 5.3.5)","subreddit_name_prefixed":"r/lua","ups":2,"created":1553380401,"link_flair_background_color":"","id":"b4jshh","author":{"name":"timmenzies"},"permalink":"/r/lua/comments/b4jshh/problems_adding_tostring_to_my_metatable_in_lua/","url":"https://www.reddit.com/r/lua/comments/b4jshh/problems_adding_tostring_to_my_metatable_in_lua/","created_utc":1553351601}