{"subreddit":{"display_name":"lua"},"subreddit_loc":"принимать","selftext":"Когда я пытаюсь вернуть что-либо (у меня это возвращает «foo» прямо сейчас) из этой функции, это заканчивается нулем. Я совершаю какой-то кардинальный грех LUA? Код, который я включил, будет работать без какого-либо дополнительного кодирования и покажет проблему:\n\nфункциональный раунд (n)\n\nместный up = math.ceil (n)\n\nесли up - (n + 0.5) <= 0, то вернуть math.ceil (n), иначе вернуть math.floor (n) end\n\nконец\n\n\\ - \\ [\n\nфункция соседей (t, x, dex)\n\nесли dex == ноль, то\n\ndex = {}\n\nдля i = 1, #t делай\n\ntable.insert (dex, i)\n\nконец\n\nконец\n\nместный средний = круглый (# т / 2)\n\nlocal tt = {}\n\nместный тд = {}\n\nесли #t == 2 то\n\nпечать («Закончен поиск»)\n\nдля я = 1, 2 до\n\ntable.insert (координаты, t \\ [i \\])\n\ntable.insert (indexes, dex \\ [i \\])\n\nконец\n\nвернуть \"фу\"\n\nконец\n\nесли x> = t \\ [mid \\], то\n\nдля меня = середина, #t делай\n\ntable.insert (tt, t \\ [i \\])\n\ntable.insert (td, dex \\ [i \\])\n\nконец\n\nиначе x <t \\ [mid \\] тогда\n\nдля I = 1, середина до\n\ntable.insert (tt, t \\ [i \\])\n\ntable.insert (td, dex \\ [i \\])\n\nконец\n\nконец\n\nесли #tt == 3 то\n\nесли x> tt \\ [2 \\], то\n\ntable.remove (tt, 1)\n\nеще\n\ntable.remove (tt, 3)\n\nконец\n\nконец\n\nprint (table.concat (tt, \",\"))\n\nprint (table.concat (td, \",\"))\n\nсоседи (тт, х, тд)\n\nконец\n\n\\ - \\] \\]\n\n\n\nкоординаты = {}\n\nиндексы = {}\n\ntest = {}\n\n\n\nдля i = 1, 100 do table.insert (test, i / 2) end\n\n\n\nлокальная окрестность = (соседи (тест, 25,25))\n\n\n\nprint (table.concat (координаты, \"\\\\ t,\"))\n\nprint (table.concat (index, \"\\\\ t,\"))\n\n\n\nпечать (окрестности)\n\nЛюбые предложения будут ценны!","title":"Одна из моих функций страдает от поведенческих проблем.","subreddit_name_prefixed":"r/lua","ups":3,"created":1567397052,"link_flair_background_color":"","id":"cyetc0","author":{"name":"mtbdork"},"permalink":"/r/lua/comments/cyetc0/one_of_my_functions_is_suffering_from_behavioral/","url":"https://www.reddit.com/r/lua/comments/cyetc0/one_of_my_functions_is_suffering_from_behavioral/","created_utc":1567368252}