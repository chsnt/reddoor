{"subreddit":{"display_name":"lua"},"subreddit_loc":"принимать","selftext":"Эй, ребята, я разработчик для GUI хаков для Counter Blox на Roblox, я пытаюсь заставить его блокировать от третьего лица, а не от первого лица (как это FPS) Вот код в полном объеме, пожалуйста, ответьте с ответами. Вид от первого лица и вид от третьего лица будут пунктирными.\n\n* local player = game.Players.LocalPlayer\n* local player.CameraMode = Enum.CameraMode.LockFirstperson = False\n* local player.CameraMode = Enum.CameraMode.Classic = True\n\nlocal plrs = game: GetService (\"Игроки\")\n\nlocal TeamBased = true; local teambasedswitch = \"o\"\n\nlocal presskeytoaim = true; local aimkey = \"e\"\n\nlocal raycast = false\n\n& # X200B;\n\nместное время espupdatetime = 5; autoesp = false\n\n& # X200B;\n\n& # X200B;\n\n& # X200B;\n\nлокальная блокировка = правда; местный замок = 5\n\n& # X200B;\n\n& # X200B;\n\n& # X200B;\n\n\\ - функция findwat (папка, что)\n\n\\ - для меня что-то попарно (папка: GetChildren ())\n\n\\ - если string.find (string.lower (tostring (smth)), string.lower (что)) тогда\n\n\\ - вернуть что-л.\n\n\\--\t\tконец\n\n\\--\tконец\n\n\\--конец\n\n\\ -\n\n\\ - local plrs = findwat (игра \"Игроки\")\n\n& # X200B;\n\n& # X200B;\n\n& # X200B;\n\n& # X200B;\n\nlocal Gui = [Instance.new] (https://Instance.new) (\"ScreenGui\")\n\nlocal Move = [Instance.new] (https://Instance.new) («Кадр»)\n\nlocal Main = [Instance.new] (https://Instance.new) («Кадр»)\n\nlocal EspStatus = [Instance.new] (https://Instance.new) (\"TextLabel\")\n\nlocal st1 = [Instance.new] (https://Instance.new) (\"TextLabel\")\n\nlocal st1 \\ _2 = [Instance.new] (https://Instance.new) (\"TextLabel\")\n\nlocal st1 \\ _3 = [Instance.new] (https://Instance.new) (\"TextLabel\")\n\nlocal Name = [Instance.new] (https://Instance.new) (\"TextLabel\")\n\n\\ - Свойства:\n\n[Gui.Name] (https://Gui.Name) = \"Gui\"\n\nGui.Parent = plrs.LocalPlayer: WaitForChild (\"PlayerGui\")\n\n& # X200B;\n\n[Move.Name] (https://Move.Name) = \"Переместить\"\n\nMove.Parent = Gui\n\nMove.BackgroundColor3 = [Color3.new] (https://Color3.new) (0.0431373, 1, 0.0745098)\n\nMove.BackgroundTransparency = 0.40000000596046\n\nMove.BorderSizePixel = 0\n\nMove.Position = [UDim2.new] (https://UDim2.new) (0,005, 0,0.018, 0)\n\nMove.Size = [UDim2.new] (https://UDim2.new) (0.28141585, 0, 0.0320388414, 0)\n\n& # X200B;\n\n[Main.Name] (https://Main.Name) = \"Главная\"\n\nMain.Parent = Move\n\nMain.BackgroundColor3 = [Color3.new] (https://Color3.new) (0.176471, 0.176471, 0.176471)\n\nMain.BackgroundTransparency = 0.69999998807907\n\nMain.Position = [UDim2.new] (https://UDim2.new) (0, 0, 0.995670795, 0)\n\nMain.Size = [UDim2.new] (https://UDim2.new) (1.0000006, 0, 9.79697132, 0)\n\n& # X200B;\n\n[EspStatus.Name] (https://EspStatus.Name) = \"EspStatus\"\n\nEspStatus.Parent = Main\n\nEspStatus.BackgroundColor3 = [Color3.new] (https://Color3.new) (1, 1, 1)\n\nEspStatus.BackgroundTransparency = 1\n\nEspStatus.Size = [UDim2.new] (https://UDim2.new) (0.272955924, 0, 0.161862016, 0)\n\nEspStatus.Font = Enum.Font.ArialBold\n\nEspStatus.Text = \"Нажмите T, чтобы обновить Esp\"\n\nEspStatus.TextColor3 = [Color3.new] (https://Color3.new) (0.0431373, 1, 0.0745098)\n\nEspStatus.TextScaled = true\n\nEspStatus.TextSize = 14\n\nEspStatus.TextWrapped = true\n\n& # X200B;\n\n[st1.Name] (https://st1.Name) = \"st1\"\n\nst1.Parent = Main\n\nst1.BackgroundColor3 = [Color3.new] (https://Color3.new) (1, 1, 1)\n\nst1.BackgroundTransparency = 1\n\nst1.Position = [UDim2.new] (https://UDim2.new) (0.271787882, 0, 0, 0)\n\nst1.Size = [UDim2.new] (https://UDim2.new) (0,728211343, 0, 0,161862016, 0)\n\nst1.Font = Enum.Font.ArialBold\n\nst1.Text = \"Нажмите\" ..aimkey .. \", чтобы заблокировать человека внутри вашего обзора\"\n\nst1.TextColor3 = [Color3.new] (https://Color3.new) (0.0431373, 1, 0.0745098)\n\nst1.TextScaled = true\n\nst1.TextSize = 14\n\nst1.TextWrapped = true\n\n& # X200B;\n\nst1 \\ _2.Name = \"st1\"\n\nst1 \\ _2.Parent = Main\n\nst1 \\ _2.BackgroundColor3 = [Color3.new] (https://Color3.new) (1, 1, 1)\n\nst1 \\ _2.BackgroundTransparency = 1\n\nst1 \\ _2.Position = [UDim2.new] (https://UDim2.new) (0, 0, 0,375590861, 0)\n\nst1 \\ _2.Size = [UDim2.new] (https://UDim2.new) (0.999999881, 0, 0.161862016, 0)\n\nst1 \\ _2.Font = Enum.Font.ArialBold\n\nst1 \\ _2.Text = \"Нажмите L, чтобы включить цикл esp\"\n\nst1 \\ _2.TextColor3 = [Color3.new] (https://Color3.new) (0.0431373, 1, 0.0745098)\n\nst1 \\ _2.TextScaled = true\n\nst1 \\ _2.TextSize = 14\n\nst1 \\ _2.TextWrapped = true\n\n& # X200B;\n\nst1 \\ _3.Name = \"st1\"\n\nst1 \\ _3.Parent = Main\n\nst1 \\ _3.BackgroundColor3 = [Color3.new] (https://Color3.new) (1, 1, 1)\n\nst1 \\ _3.BackgroundTransparency = 1\n\nst1 \\ _3.Position = [UDim2.new] (https://UDim2.new) (0, 0, 0.18558608, 0)\n\nst1 \\ _3.Size = [UDim2.new] (https://UDim2.new) (0.999999881, 0, 0.161862016, 0)\n\nst1 \\ _3.Font = Enum.Font.ArialBold\n\nst1 \\ _3.Text = \"Нажмите O, чтобы включить чайный напиток esp\"\n\nst1 \\ _3.TextColor3 = [Color3.new] (https://Color3.new) (0.0431373, 1, 0.0745098)\n\nst1 \\ _3.TextScaled = true\n\nst1 \\ _3.TextSize = 14\n\nst1 \\ _3.TextWrapped = true\n\nместный командный статус = st1 \\ _3: Clone ()\n\nteambasedstatus.Parent = st1 \\ _3\n\nteambasedstatus.TextScaled = true\n\nteambasedstatus.Position = [UDim2.new] (https://UDim2.new) (0, 0,0.694, 0)\n\nteambasedstatus.Text = tostring (TeamBased)\n\n& # X200B;\n\n[Name.Name] (https://Name.Name) = \"Имя\"\n\nName.Parent = Move\n\nName.BackgroundColor3 = [Color3.new] (https://Color3.new) (1, 1, 1)\n\nName.BackgroundTransparency = 1\n\nName.Size = [UDim2.new] (https://UDim2.new) (0,838, 0, 0,980000019, 0)\n\nName.Font = Enum.Font.Arial\n\nName.Text = \"Мастер Хак Gui\"\n\nName.TextColor3 = [Color3.new] (https://Color3.new) (0, 0, 0)\n\nName.TextScaled = true\n\nName.TextSize = 14\n\nName.TextWrapped = true\n\nName.TextXAlignment = Enum.TextXAlignment.Left\n\n\\ - Скрипты:\n\n& # X200B;\n\n& # X200B;\n\nlocal plrsforaim = {}\n\n& # X200B;\n\nlocal lplr = game: GetService (\"Players\"). LocalPlayer\n\nMove.Draggable = true\n\nGui.ResetOnSpawn = false\n\n[Gui.Name] (https://Gui.Name) = \"Чат\"\n\nGui.DisplayOrder = 999\n\n& # X200B;\n\nGui.Parent = plrs.LocalPlayer.PlayerGui\n\n& # X200B;\n\n& # X200B;\n\nf = {}\n\nместный эспфорлер\n\n& # X200B;\n\nf.addesp = function ()\n\n\\ - печать («ESP побежал»)\n\nесли espforlder то\n\nеще\n\nespforlder = [Instance.new] (https://Instance.new) (\"Папка\")\n\nespforlder.Parent = game.Workspace.CurrentCamera\n\nконец\n\nдля i, v попарно (espforlder: GetChildren ())\n\nv: уничтожить ()\n\nконец\n\nдля \\ _, plr в парах (plrs: GetChildren ())\n\nif plr.Character и [plr.Character.Humanoid.Health] (https://plr.Character.Humanoid.Health) \\> 0 и [plr.Name] (https://plr.Name) \\ ~ = [lplr .Name] (https://lplr.Name) затем\n\nесли TeamBased == true тогда\n\nif [plr.Team.Name] (https://plr.Team.Name) \\ ~ = [plrs.LocalPlayer.Team.Name] (https://plrs.LocalPlayer.Team.Name) затем\n\nlocal e = espforlder: FindFirstChild ([plr.Name] (https://plr.Name))\n\nесли не е то\n\n\\ - print («Добавлен esp для командных»)\n\nместный счет = [Instance.new] (https://Instance.new) (\"BillboardGui\", espforlder)\n\n[bill.Name] (https://bill.Name) = [plr.Name] (https://plr.Name)\n\nbill.AlwaysOnTop = true\n\nbill.Size = [UDim2.new] (https://UDim2.new) (1,0,1,0)\n\nbill.Adornee = plr.Character.Head\n\nlocal Frame = [Instance.new] (https://Instance.new) («Frame», счет)\n\n[Frame.Active] (https: //Frame.Active) = true\n\nFrame.BackgroundColor3 = [Color3.new] (https://Color3.new) (0 / 255,255 / 255,0 / 255)\n\nFrame.BackgroundTransparency = 0\n\nFrame.BorderSizePixel = 0\n\nFrame.AnchorPoint = [Vector2.new] (https://Vector2.new) (.5, .5)\n\nFrame.Position = [UDim2.new] (https://UDim2.new) (0.5,0,0.5,0)\n\nFrame.Size = [UDim2.new] (https://UDim2.new) (1,0,1,0)\n\nFrame.Rotation = 0\n\nplr.Character.Humanoid.Died: Connect (функция ()\n\nсчет: Destroy ()\n\nконец)\n\nконец\n\nконец\n\nеще\n\nlocal e = espforlder: FindFirstChild ([plr.Name] (https://plr.Name))\n\nесли не е то\n\n\\ - печать («Добавлены фейерверки мастера»)\n\nместный счет = [Instance.new] (https://Instance.new) (\"BillboardGui\", espforlder)\n\n[bill.Name] (https://bill.Name) = [plr.Name] (https://plr.Name)\n\nbill.AlwaysOnTop = true\n\nbill.Size = [UDim2.new] (https://UDim2.new) (1,0,1,0)\n\nbill.Adornee = plr.Character.Head\n\nlocal Frame = [Instance.new] (https://Instance.new) («Frame», счет)\n\n[Frame.Active] (https: //Frame.Active) = true\n\nFrame.BackgroundColor3 = [Color3.new] (https://Color3.new) (0 / 255,255 / 255,0 / 255)\n\nFrame.BackgroundTransparency = 0\n\nFrame.BorderSizePixel = 0\n\nFrame.AnchorPoint = [Vector2.new] (https://Vector2.new) (.5, .5)\n\nFrame.Position = [UDim2.new] (https://UDim2.new) (0.5,0,0.5,0)\n\nFrame.Size = [UDim2.new] (https://UDim2.new) (1,0,1,0)\n\nFrame.Rotation = 0\n\nplr.Character.Humanoid.Died: Connect (функция ()\n\nсчет: Destroy ()\n\nконец)\n\nконец\n\nконец\n\n\n\n\n\nконец\n\nконец\n\nконец\n\nlocal cam = game.Workspace.CurrentCamera\n\n& # X200B;\n\nлокальная мышь = lplr: GetMouse ()\n\nлокальный переключатель = ложь\n\nлокальный ключ = \"к\"\n\nместный aimatpart = ноль\n\nmouse.KeyDown: Connect (функция (а)\n\nесли == \"т\" то\n\nпечать ( \"worked1\")\n\nf.addesp ()\n\nиначе если == \"u\"\n\nесли raycast == правда тогда\n\nraycast = ложь\n\nеще\n\nraycast = true\n\nконец\n\nиначе == \"l\" тогда\n\nесли autoesp == false то\n\nautoesp = true\n\nеще\n\nautoesp = false\n\nконец\n\nконец\n\nесли == \"J\", то\n\nесли [mouse.Target] (https://mouse.Target), то\n\n[Mouse.Target] (https://mouse.Target): Destroy ()\n\nконец\n\nконец\n\nесли ключ == то\n\nесли switch == false то\n\nswitch = true\n\nеще\n\nпереключатель = ложь\n\nесли aimatpart \\ ~ = ноль, то\n\naimatpart = ноль\n\nконец\n\nконец\n\nтогда, если == командный переключатель\n\nесли TeamBased == true тогда\n\nTeamBased = false\n\nteambasedstatus.Text = tostring (TeamBased)\n\nеще\n\nTeamBased = true\n\nteambasedstatus.Text = tostring (TeamBased)\n\nконец\n\nесли == прицел\n\nесли не айматпарт то\n\nлокальный maxangle = math.rad (20)\n\nдля меня, plr в парах (plrs: GetChildren ()) сделать\n\nif [plr.Name] (https://plr.Name) \\ ~ = [lplr.Name] (https://lplr.Name) и plr.Character и plr.Character.Head и plr.Character.Humanoid и [ plr.Character.Humanoid.Health] (https://plr.Character.Humanoid.Health) \\> 1 затем\n\nесли TeamBased == true тогда\n\nif [plr.Team.Name] (https://plr.Team.Name) \\ ~ = [lplr.Team.Name] (https://lplr.Team.Name) затем\n\nlocal an = checkfov (plr.Character.Head)\n\nесли <maxangle, то\n\nmaxangle = an\n\naimatpart = plr.Character.Head\n\nконец\n\nконец\n\nеще\n\nlocal an = checkfov (plr.Character.Head)\n\nесли <maxangle, то\n\nmaxangle = an\n\naimatpart = plr.Character.Head\n\nконец\n\nпечать (ГНР)\n\nконец\n\nplr.Character.Humanoid.Died: Connect (функция ()\n\nесли aimatpart.Parent == plr.Character или aimatpart == ноль, то\n\naimatpart = ноль\n\nконец\n\nконец)\n\nконец\n\nконец\n\nеще\n\naimatpart = ноль\n\nконец\n\nконец\n\nконец)\n\n& # X200B;\n\nфункция getfovxyz (p0, p1, deg)\n\nлокальный x1, y1, z1 = p0: ToOrientation ()\n\nlocal cf = [CFrame.new] (https://CFrame.new) (p0.p, p1.p)\n\nлокальный x2, y2, z2 = cf: ToOrientation ()\n\n\\ - местный d = math.deg\n\nесли град\n\n\\ - return [Vector3.new] (https://Vector3.new) (d (x1-x2), d (y1-y2), d (z1-z2))\n\nеще\n\nreturn [Vector3.new] (https://Vector3.new) ((x1-x2), (y1-y2), (z1-z2))\n\nконец\n\nконец\n\n& # X200B;\n\nфункция getaimbotplrs ()\n\nplrsforaim = {}\n\nдля меня, plr в парах (plrs: GetChildren ()) сделать\n\nесли plr.Character и plr.Character.Humanoid и [plr.Character.Humanoid.Health] (https://plr.Character.Humanoid.Health) \\> 0 и [plr.Name] (https://plr.Name ) \\ ~ = [lplr.Name] (https://lplr.Name) и plr.Character.Head затем\n\n\n\nесли TeamBased == true тогда\n\nif [plr.Team.Name] (https://plr.Team.Name) \\ ~ = [lplr.Team.Name] (https://lplr.Team.Name) затем\n\nlocal cf = [CFrame.new] (https://CFrame.new) (game.Workspace.CurrentCamera.CFrame.p, plr.Character.Head.CFrame.p)\n\nlocal r = [Ray.new] (https://Ray.new) (ср., cf.LookVector \\ * 10000)\n\nlocal ign = {}\n\nдля i, v в парах (plrs.LocalPlayer.Character: GetChildren ()) сделать\n\nесли v: IsA (\"BasePart\"), то\n\ntable.insert (ign, v)\n\nконец\n\nконец\n\nlocal obj = game.Workspace: FindPartOnRayWithIgnoreList (r, ign)\n\nесли obj.Parent == plr.Character и obj.Parent \\ ~ = lplr.Character, то\n\ntable.insert (plrsforaim, obj)\n\nконец\n\nконец\n\nеще\n\nlocal cf = [CFrame.new] (https://CFrame.new) (game.Workspace.CurrentCamera.CFrame.p, plr.Character.Head.CFrame.p)\n\nlocal r = [Ray.new] (https://Ray.new) (ср., cf.LookVector \\ * 10000)\n\nlocal ign = {}\n\nдля i, v в парах (plrs.LocalPlayer.Character: GetChildren ()) сделать\n\nесли v: IsA (\"BasePart\"), то\n\ntable.insert (ign, v)\n\nконец\n\nконец\n\nlocal obj = game.Workspace: FindPartOnRayWithIgnoreList (r, ign)\n\nесли obj.Parent == plr.Character и obj.Parent \\ ~ = lplr.Character, то\n\ntable.insert (plrsforaim, obj)\n\nконец\n\nконец\n\n\n\n\n\nконец\n\nконец\n\nконец\n\n& # X200B;\n\nфункция аймат (часть)\n\ncam.CFrame = [CFrame.new] (https://CFrame.new) (cam.CFrame.p, part.CFrame.p)\n\nконец\n\nфункция checkfov (часть)\n\nlocal fov = getfovxyz (game.Workspace.CurrentCamera.CFrame, part.CFrame)\n\nместный угол = math.abs (fov.X) + math.abs (fov.Y)\n\nугол возврата\n\nконец\n\n& # X200B;\n\nигра:. GetService ( \"RunService\") RenderStepped: Connect (функция ()\n\nесли айматпарт то\n\naimat (aimatpart)\n\nесли aimatpart.Parent == plrs.LocalPlayer.Character тогда\n\naimatpart = ноль\n\nконец\n\nконец\n\n\n\n\n\n\\ - если switch == true, то\n\n\\ - локальный максимум = 99999\n\n\\ -\n\n\\ - --print ( \"Loop\")\n\n\\ - если true и raycast == false то\n\n\\ - для i, plr в парах (plrs: GetChildren ()) сделать\n\n\\ - if [plr.Name] (https://plr.Name) \\ ~ = [lplr.Name] (https://lplr.Name) и plr.Character и plr.Character.Head и plr.Character. Гуманоид и [plr.Character.Humanoid.Health] (https://plr.Character.Humanoid.Health) \\> 1 затем\n\n\\ - если TeamBased то\n\n\\ - if [plr.Team.Name] (https://plr.Team.Name) \\ ~ = [lplr.Team.Name] (https://lplr.Team.Name) или plr.Team.TeamColor \\ ~ = lplr.Team.TeamColor затем\n\n\\ - local an = checkfov (plr.Character.Head)\n\n\\ - если <maxangle, то\n\n\\ - maxangle = an\n\n\\ - aimatpart = plr.Character.Head\n\n\\ - если <замок\n\n\\--\t\t\t\t\t\t\t\t\tперемена\n\n\\--\t\t\t\t\t\t\t\tконец\n\n\\--\t\t\t\t\t\t\tконец\n\n\\--\t\t\t\t\t\tконец\n\n\\ - еще\n\n\\ - local an = checkfov (plr.Character.Head)\n\n\\ - если <maxangle, то\n\n\\ - maxangle = an\n\n\\ - aimatpart = plr.Character.Head\n\n\\ - если <блокировка\n\n\\--\t\t\t\t\t\t\t\t\tперемена\n\n\\--\t\t\t\t\t\t\t\tконец\n\n\\--\t\t\t\t\t\t\tконец\n\n\\--\t\t\t\t\tконец\n\n\\ -\n\n\\ -\n\n\\ -\n\n\\ -\n\n\\--\t\t\t\tконец\n\n\\--\t\t\tконец\n\n\\ - elseif raycast == правда тогда\n\n\\ -\n\n\\--\t\tконец\n\n\n\nесли raycast == true и switch == false, а не aimatpart, то\n\ngetaimbotplrs ()\n\naimatpart = ноль\n\nлокальный максимум = 999\n\nдля i, v в ipairs (plrsforaim) сделать\n\nесли v.Parent \\ ~ = lplr.Character тогда\n\nместный an = checkfov (v)\n\nесли <maxangle и v \\ ~ = lplr.Character.Head, то\n\nmaxangle = an\n\naimatpart = v\n\nпечать (v: GetFullName ())\n\nv.Parent.Humanoid.Died: подключения (функция ()\n\naimatpart = ноль\n\nконец)\n\nконец\n\nконец\n\nконец\n\n\n\nконец\n\nконец)\n\nзадержка (0, функция ()\n\nпока wait (espupdatetime) сделать\n\nесли autoesp == true, то\n\nPCALL (функция ()\n\nf.addesp ()\n\nконец)\n\nконец\n\nконец\n\nконец)\n\nпредупреждают ( «загружен»)","title":"Нужна помощь с Луа.","subreddit_name_prefixed":"r/lua","ups":0,"created":1565014803,"link_flair_background_color":"","id":"cm7bge","author":{"name":"eatingfrootloops"},"permalink":"/r/lua/comments/cm7bge/need_some_help_with_lua/","url":"https://www.reddit.com/r/lua/comments/cm7bge/need_some_help_with_lua/","created_utc":1564986003}