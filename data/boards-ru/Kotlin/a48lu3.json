{"subreddit":{"display_name":"Kotlin"},"subreddit_loc":"Котлин","selftext":"Рассмотрим этот кусок кода:\n\n    Класс Node (дети: список <Node>) {\n        val sum = children.sumBy {it.sum}\n    }\n\nПоскольку он не может сказать, какой тип `sum` должен быть, вместо того, чтобы выдавать значимую ошибку, он нарушает IDE и компиляторы:\n\n* IntelliJ жалуется на `org.jetbrains.kotlin.idea.caches.resolve.KotlinIdeaResolutionException: при разрешении Kotlin возникла проблема при анализе KtCallExpression`\n* Попробуй Котлин скинет ошибку 500с у тебя\n* Если вам удастся скомпилировать его, вы получите `org.jetbrains.kotlin.util.ReenteringLazyValueComputationException`\n\nОднако, если вы немного измените код и сделаете это\n\n    Класс Node (дети: список <Node>) {\n        val sum: Int = children.sumBy {it.sum}\n    }\n(обратите внимание, что `sum` имеет явно определенный тип), все работает как положено.\n\nПросто хотел сообщить вам об этом, и, возможно, посмотреть, не было ли у кого-нибудь подобной ошибки в прошлом.","title":"Kotlin ошибка рекурсивного вывода типа","subreddit_name_prefixed":"r/Kotlin","ups":14,"created":1544281312,"link_flair_background_color":"","id":"a48lu3","author":{"name":"UselessOptions"},"permalink":"/r/Kotlin/comments/a48lu3/kotlin_recursive_type_inference_bug/","url":"https://www.reddit.com/r/Kotlin/comments/a48lu3/kotlin_recursive_type_inference_bug/","created_utc":1544252512}