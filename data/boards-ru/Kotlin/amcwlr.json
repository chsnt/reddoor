{"subreddit":{"display_name":"Kotlin"},"subreddit_loc":"Kotlin","selftext":"Edit:  khttp.async call fails in a new project too. It looks like something is broken with khttp since the update of Android Studio.  \n\n\n&#x200B;\n\nhttps://preview.redd.it/v927ztcq85e21.png?width=1391&format=png&auto=webp&s=0ae8755d71dd8feaed945fabf1141783d9d89ae5\n\n&#x200B;\n\n&#x200B;\n\nSince I updated Android Studio today I can't build my project anymore.It throws a strange error at khttp.async call.\n\nAny idea what went wrong or how to get rid of this error?\n\n&#x200B;\n\nhttps://preview.redd.it/spzz0q6fs4e21.png?width=1217&format=png&auto=webp&s=4edd191a8433adb7e8f70734cac873300b99a180\n\n&#x200B;\n\nApp build.gradle\n\n    apply plugin: 'com.android.application'\n    \n    apply plugin: 'kotlin-android'\n    \n    apply plugin: 'kotlin-android-extensions'\n    \n    android {\n        compileSdkVersion 28\n        defaultConfig {\n            applicationId \"com.example.andre.userinterface\"\n            minSdkVersion 26\n            targetSdkVersion 28\n            versionCode 1\n            versionName \"1.0\"\n            testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        }\n        buildTypes {\n            release {\n                minifyEnabled false\n                proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            }\n        }\n    }\n    \n    dependencies {\n        implementation \"org.jetbrains.kotlin:kotlin-reflect:1.3.0\"\n        implementation fileTree(dir: 'libs', include: ['*.jar'])\n        implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n        implementation 'com.android.support:appcompat-v7:28.0.0'\n        implementation 'com.android.support:support-v4:28.0.0'\n        implementation 'com.android.support:design:28.0.0'\n        implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n        implementation 'com.android.support:recyclerview-v7:28.0.0'\n        implementation 'org.jetbrains.anko:anko-commons:0.10.8'\n        testImplementation 'junit:junit:4.12'\n        androidTestImplementation 'com.android.support.test:runner:1.0.2'\n        androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n    \n        implementation 'com.github.jkcclemens:khttp:0.1.0'\n        implementation 'com.beust:klaxon:3.0.1'\n    \n    }\n\n&#x200B;\n\nFull Build Log\n\n    Executing tasks: [:app:assembleDebug]\n    \n    > Task :app:preBuild UP-TO-DATE\n    > Task :app:preDebugBuild UP-TO-DATE\n    > Task :app:compileDebugAidl NO-SOURCE\n    > Task :app:compileDebugRenderscript UP-TO-DATE\n    > Task :app:checkDebugManifest UP-TO-DATE\n    > Task :app:generateDebugBuildConfig UP-TO-DATE\n    > Task :app:mainApkListPersistenceDebug UP-TO-DATE\n    > Task :app:generateDebugResValues UP-TO-DATE\n    > Task :app:generateDebugResources UP-TO-DATE\n    > Task :app:mergeDebugResources UP-TO-DATE\n    > Task :app:createDebugCompatibleScreenManifests UP-TO-DATE\n    > Task :app:processDebugManifest UP-TO-DATE\n    > Task :app:processDebugResources UP-TO-DATE\n    e: C:\\Users\\andre\\AndroidStudioProjects\\UserInterface\\app\\src\\main\\java\\com\\example\\andre\\userinterface\\PentaxCommunicator.kt: (51, 23): Unresolved reference: async\n    e: C:\\Users\\andre\\AndroidStudioProjects\\UserInterface\\app\\src\\main\\java\\com\\example\\andre\\userinterface\\PentaxCommunicator.kt: (54, 64): Unresolved reference: text\n    e: C:\\Users\\andre\\AndroidStudioProjects\\UserInterface\\app\\src\\main\\java\\com\\example\\andre\\userinterface\\PentaxCommunicator.kt: (79, 23): Unresolved reference: async\n    e: C:\\Users\\andre\\AndroidStudioProjects\\UserInterface\\app\\src\\main\\java\\com\\example\\andre\\userinterface\\PentaxCommunicator.kt: (82, 64): Unresolved reference: text\n    e: C:\\Users\\andre\\AndroidStudioProjects\\UserInterface\\app\\src\\main\\java\\com\\example\\andre\\userinterface\\PentaxCommunicator.kt: (173, 23): Unresolved reference: async\n    e: C:\\Users\\andre\\AndroidStudioProjects\\UserInterface\\app\\src\\main\\java\\com\\example\\andre\\userinterface\\PentaxCommunicator.kt: (174, 16): Unresolved reference: statusCode\n    e: C:\\Users\\andre\\AndroidStudioProjects\\UserInterface\\app\\src\\main\\java\\com\\example\\andre\\userinterface\\PentaxConnector.kt: (70, 23): Unresolved reference: async\n    e: C:\\Users\\andre\\AndroidStudioProjects\\UserInterface\\app\\src\\main\\java\\com\\example\\andre\\userinterface\\PentaxConnector.kt: (71, 26): Unresolved reference: statusCode\n    e: C:\\Users\\andre\\AndroidStudioProjects\\UserInterface\\app\\src\\main\\java\\com\\example\\andre\\userinterface\\PentaxConnector.kt: (72, 23): Unresolved reference: jsonObject\n    > Task :app:compileDebugKotlin FAILED\n    \n    FAILURE: Build failed with an exception.\n    \n    * What went wrong:\n    Execution failed for task ':app:compileDebugKotlin'.\n    > Compilation error. See log for more details\n    \n    * Try:\n    Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n    \n    * Exception is:\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:compileDebugKotlin'.\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:110)\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:77)\n    \tat org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\n    \tat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)\n    \tat org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n    \tat org.gradle.api.internal.tasks.execution.ResolveBuildCacheKeyExecuter.execute(ResolveBuildCacheKeyExecuter.java:79)\n    \tat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)\n    \tat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)\n    \tat org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\n    \tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:91)\n    \tat org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)\n    \tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:59)\n    \tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n    \tat org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    \tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.run(EventFiringTaskExecuter.java:51)\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n    \tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:46)\n    \tat org.gradle.execution.taskgraph.LocalTaskInfoExecutor.execute(LocalTaskInfoExecutor.java:42)\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:277)\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:262)\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:135)\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:130)\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.execute(DefaultTaskPlanExecutor.java:200)\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.executeWithWork(DefaultTaskPlanExecutor.java:191)\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.run(DefaultTaskPlanExecutor.java:130)\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    Caused by: org.gradle.api.GradleException: Compilation error. See log for more details\n    \tat org.jetbrains.kotlin.gradle.tasks.TasksUtilsKt.throwGradleExceptionIfError(tasksUtils.kt:16)\n    \tat org.jetbrains.kotlin.gradle.tasks.KotlinCompile.processCompilerExitCode(Tasks.kt:453)\n    \tat org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler$kotlin_gradle_plugin(Tasks.kt:415)\n    \tat org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler$kotlin_gradle_plugin(Tasks.kt:309)\n    \tat org.jetbrains.kotlin.gradle.tasks.AbstractKotlinCompile.execute(Tasks.kt:270)\n    \tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n    \tat org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:50)\n    \tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\n    \tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:131)\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n    \tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:120)\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:99)\n    \t... 32 more\n    \n    \n    * Get more help at https://help.gradle.org\n    \n    BUILD FAILED in 2s\n    11 actionable tasks: 1 executed, 10 up-to-date\n    \n    \n    The build scan was not published due to a configuration problem.\n    \n    The Gradle Terms of Service have not been agreed to.\n    \n    To agree to the Gradle Terms of Service, include the following in your root project's configuration:\n    buildScan { termsOfServiceUrl = 'https://gradle.com/terms-of-service'; termsOfServiceAgree = 'yes' }\n    \n    For more information, please see https://gradle.com/scans/help/plugin-terms-of-service.\n    \n    Alternatively, if you are using Gradle Enterprise, specify the server location.\n    For more information, please see https://gradle.com/scans/help/plugin-enterprise-config.\n\n&#x200B;","title":"Can't build after Android Studio Update","subreddit_name_prefixed":"r/Kotlin","ups":3,"created":1549131787,"link_flair_background_color":"","id":"amcwlr","author":{"name":"FailKid"},"permalink":"/r/Kotlin/comments/amcwlr/cant_build_after_android_studio_update/","url":"https://www.reddit.com/r/Kotlin/comments/amcwlr/cant_build_after_android_studio_update/","created_utc":1549102987}