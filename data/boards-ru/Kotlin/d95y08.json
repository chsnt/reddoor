{"subreddit":{"display_name":"Kotlin"},"subreddit_loc":"Котлин","selftext":"Вопрос новичка здесь:\n\nВ настоящее время я использую пользовательские методы получения и установки для записи и чтения из файла в файловой системе / sys в Linux. Мои внутренности говорят мне, что с этим что-то не так, потому что это скрывает от пользователя класса, что я обращаюсь к файлу.\n\nВот как я реализовал свойство:\n\n    \n    var maxFrequency: Int\n            получить() {\n                возвращаемый файл («$ path / cpufreq / scaling_max_freq»)\n                    .readlines ()\n                    .первый()\n                    .trimEnd ( '\\ п')\n                    .toInt ()\n            }\n            set (значение) {\n                Файл ( \"$ путь / CPUfreq / scaling_max_freq\")\n                    .writeText ( \"значение $ \\ п\")\n            }\n    \n\nЕсть другие подобные свойства, реализованные таким же образом. Я получал доступ к файлам непосредственно раньше, но было сложно открывать все файлы, чтобы собрать всю необходимую информацию (например, если мне нужны максимальная, минимальная и текущая частота процессора, мне нужно открыть 3 разных файла).\n\nВот как я использую реализацию:\n\n    \n    fun setFrequency (кластер: кластер, частота: Int) {\n            val idx = когда (кластер) {\n                Cluster.BIG -> BIG_MIN_IDX\n                Cluster.LITTLE -> LITTLE_MIN_IDX\n            }\n    \n            cores [idx] .run {\n                if (частота> maxFrequency) {\n                    maxFrequency = частота\n                    minFrequency = частота\n                } еще {\n                    minFrequency = частота\n                    maxFrequency = частота\n                }\n            }\n        }\n    \n\nГде `core [idx]` - это класс, который имеет свойства для доступа к файлам.\n\nМне интересно, есть ли лучший способ реализовать этот вариант использования, где мне нужно собрать информацию из нескольких файлов и записать в эти файлы, если мне нужно ее изменить. Я впервые возился с псевдофайловыми системами.","title":"Является ли использование пользовательских методов получения и доступа к файлам запахом кода?","subreddit_name_prefixed":"r/Kotlin","ups":7,"created":1569458719,"link_flair_background_color":"","id":"d95y08","author":{"name":"edujtm"},"permalink":"/r/Kotlin/comments/d95y08/is_using_custom_getter_and_setter_to_access_files/","url":"https://www.reddit.com/r/Kotlin/comments/d95y08/is_using_custom_getter_and_setter_to_access_files/","created_utc":1569429919}