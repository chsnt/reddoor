{"subreddit":{"display_name":"Kotlin"},"subreddit_loc":"Котлин","selftext":"Эй, ребята,\n\n\n\nЯ просто хотел поделиться этой маленькой мыслью.\n\n\n\nдавайте предположим, что вы используете `закрытый класс`, как это:\n\n    закрытый класс питомца\n    класс собака: домашнее животное ()\n    Класс Cat: Pet ()\n    \n    val somePet: Pet = Dog ()\n\nтогда `когда` как ** выражение **\n\n    val name = when (somePet) {\n        это собака -> \"Собака\"\n        такое кот -> \"кот\"\n    }\n\nдолжен быть исчерпан, тогда как ** утверждение **\n\n    когда (somePet) {\n        это собака -> println (\"собака\")\n    }\n\nне должен быть исчерпан.\n\n\n\nЕсли мы все еще хотим, чтобы заявление было исчерпывающим, есть два способа заставить его быть исчерпывающим:\n\n1. Создание выражения путем сохранения значения в переменной, хотя оно и не используется\n2. Создание выражения с помощью функции расширения\n\n\n\nМне не нравится решение 1, потому что вы должны придумать имя переменной для результата, которое иногда не имеет никакого смысла, и вы получаете предупреждения от вашей IDE, потому что вы присваиваете значение, но фактически никогда его не используете.\n\n\n\nИтак, теперь давайте посмотрим, как может выглядеть решение другого решения:\n\n\n\n** Функция расширения / свойство **\n\n    when (somePet) {...} .let {}\n    \n    Прикольный Любой? .exhaustive () = Единица\n    when (somePet) {...} .exhaustive ()\n    \n    val Any? .exhaustive get () = Единица\n    \n    когда (somePet) {...}. исчерпывающий\n\n** Ссылка на класс **\n\n    когда (somePet) {...} :: класс\n\n** Явное приведение **\n\n    когда (somePet) {...} как Any\n    \n    Выражение typealias = Любой\n    \n    когда (somePet) {...} как выражение\n\n\n\nКак указал пользователь [Serchinastico]  (https://www.reddit.com/user/Serchinastico/) , прежде чем я изменил название этого поста (и, следовательно, пересоздал его), это уже упоминалось в этой статье:\n\n[https://blog.karumi.com/kotlin-android-development-6-months-into-it/]<span translate = \"no\"> (https://blog.karumi.com/kotlin-android-development -6-месяцев-в-он /) </ SPAN>\n\nи предложено в\n\n[https://youtrack.jetbrains.com/issue/KT-12380] (https://youtrack.jetbrains.com/issue/KT-12380) ","title":"Сила исчерпывающего когда-утверждения (закрытые занятия)","subreddit_name_prefixed":"r/Kotlin","ups":4,"created":1560381728,"link_flair_background_color":"","id":"bzsiw3","author":{"name":"Astronaut4449"},"permalink":"/r/Kotlin/comments/bzsiw3/force_exhaustive_whenstatement_sealed_classes/","url":"https://www.reddit.com/r/Kotlin/comments/bzsiw3/force_exhaustive_whenstatement_sealed_classes/","created_utc":1560352928}