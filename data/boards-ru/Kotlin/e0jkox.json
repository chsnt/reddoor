{"subreddit":{"display_name":"Kotlin"},"subreddit_loc":"Котлин","selftext":"У меня есть два класса, травмы и пользователя, которые определены ниже\n\n    @Сущность\n    Класс данных Травма (val описание: String,\n                      @JsonIgnore @ManyToOne val пользователь: пользователь,\n                      val вхождение: LocalDateTime = LocalDateTime.now (),\n                      val logged: LocalDateTime = LocalDateTime.now (),\n                      @Id @GeneratedValue (strategy = GenerationType.IDENTITY) val id: Long = 0)\n\n    @Сущность\n    класс данных User (@Column (nullable = false, unique = true) val email: String,\n                    val создан: LocalDateTime = LocalDateTime.now (),\n                    @JsonIgnore @OneToMany (fetch = FetchType.LAZY) val травмы: MutableList <Injury> = ArrayList (),\n                    @Id @GeneratedValue (strategy = GenerationType.IDENTITY) val id: Long = 0)\n\nЯ хочу опубликовать травму без указания пользователя по следующим причинам\n1. Для простоты, поскольку травма в любом случае принадлежит текущему пользователю\n2. Данным в почтовом запросе нельзя доверять. Поэтому я бы предпочел получить пользователя от Принципала и посмотреть его через мой UserSerice.\n\nОднако, когда я не указываю пользователя и все остальные атрибуты, я получаю следующую ошибку\n\n    Обязательный аргумент [Травма] не указан\n\nЯ хотел бы, чтобы мои классы данных были неизменными и, насколько это возможно, не обнуляемыми, но действительно ли это возможно?","title":"Работа с отсутствующими обязательными атрибутами и JPA","subreddit_name_prefixed":"r/Kotlin","ups":3,"created":1574553158,"link_flair_background_color":"","id":"e0jkox","author":{"name":"baconialis"},"permalink":"/r/Kotlin/comments/e0jkox/dealing_with_missing_required_attributes_and_jpa/","url":"https://www.reddit.com/r/Kotlin/comments/e0jkox/dealing_with_missing_required_attributes_and_jpa/","created_utc":1574524358}